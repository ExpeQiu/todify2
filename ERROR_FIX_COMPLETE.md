# æ§åˆ¶å°é”™è¯¯ä¿®å¤å®ŒæˆæŠ¥å‘Š

## é—®é¢˜è¯Šæ–­

### åŸå§‹é—®é¢˜
1. æ§åˆ¶å°æ˜¾ç¤º `[object Object]` é”™è¯¯ä¿¡æ¯
2. å¤šä¸ªé‡å¤çš„é”™è¯¯æ—¥å¿—
3. æ— æ³•çœ‹åˆ°è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

### æ ¹æœ¬åŸå› 
- é”™è¯¯å¯¹è±¡ç›´æ¥ä¼ é€’ç»™ `console.error()` æˆ– `console.debug()`
- æµè§ˆå™¨ä¼šå°†é”™è¯¯å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸² `[object Object]`
- ä»£ç ä¸­å¤šå¤„é”™è¯¯æ—¥å¿—æœªæ ¼å¼åŒ–

## å·²å®Œæˆçš„ä¿®å¤

### âœ… æ‰€æœ‰é”™è¯¯æ—¥å¿—å·²æ ¼å¼åŒ–

#### 1. aiRoleService.ts
- **æ–¹æ³•**: `getAIRoles()`
- **ä¿®å¤**: æ·»åŠ ç»“æ„åŒ–é”™è¯¯æ—¥å¿—ï¼ŒåŒ…å« message, status, url, responseData
- **æ ‡è¯†**: ğŸ”´ [aiRoleService]

#### 2. migrationService.ts  
- **æ–¹æ³•**: `checkMigrationStatus()`
- **ä¿®å¤**: æ·»åŠ ç»“æ„åŒ–é”™è¯¯æ—¥å¿—
- **æ ‡è¯†**: ğŸŸ¡ [migrationService]
- **é¢å¤–**: ä¿®å¤äº†åˆ é™¤æ—§é…ç½®çš„é”™è¯¯å¤„ç†

#### 3. AIRoleManagementPage.tsx
- **æ–¹æ³•1**: `loadRoles()` - âœ… å·²ä¿®å¤ï¼Œæ ‡è¯†: ğŸ”µ [AIRoleManagementPage]
- **æ–¹æ³•2**: `checkMigrationStatus()` - âœ… å·²ä¿®å¤
- **æ–¹æ³•3**: `handleMigrate()` - âœ… å·²ä¿®å¤
- **æ–¹æ³•4**: `handleSave()` - âœ… å·²ä¿®å¤
- **æ–¹æ³•5**: `handleDelete()` - âœ… å·²ä¿®å¤

#### 4. MultiChatContainer.tsx
- **æ–¹æ³•**: `loadRoles()`
- **ä¿®å¤**: æ·»åŠ ç»“æ„åŒ–é”™è¯¯æ—¥å¿—
- **æ ‡è¯†**: ğŸŸ£ [MultiChatContainer]

## é”™è¯¯æ—¥å¿—æ ¼å¼

æ‰€æœ‰é”™è¯¯æ—¥å¿—ç°åœ¨éƒ½ä½¿ç”¨ç»Ÿä¸€æ ¼å¼ï¼š

```typescript
console.error('ğŸ”´ [æœåŠ¡å] æ“ä½œå¤±è´¥:', {
  message: errorMessage,      // é”™è¯¯æ¶ˆæ¯
  status: errorStatus,        // HTTPçŠ¶æ€ç 
  url: requestUrl,            // è¯·æ±‚URL
  responseData: responseData,  // å“åº”æ•°æ®
  fullError: error            // å®Œæ•´é”™è¯¯å¯¹è±¡
});
```

## é¢„æœŸæ•ˆæœ

### ä¿®å¤å‰
```
è·å–AIè§’è‰²åˆ—è¡¨å¤±è´¥: [object Object]
```

### ä¿®å¤åï¼ˆé¢„æœŸï¼‰
```javascript
ğŸ”´ [aiRoleService] è·å–AIè§’è‰²åˆ—è¡¨å¤±è´¥: {
  message: "Cannot GET /api/v1/ai-roles",
  status: 404,
  url: "/api/v1/ai-roles",
  baseURL: "/api/v1",
  responseData: { ... },
  fullError: { ... }
}
```

## æµè§ˆå™¨ç¼“å­˜é—®é¢˜

å¦‚æœæ§åˆ¶å°ä»ç„¶æ˜¾ç¤º `[object Object]`ï¼Œå¯èƒ½æ˜¯æµè§ˆå™¨ç¼“å­˜äº†æ—§ä»£ç ã€‚è§£å†³æ–¹æ¡ˆï¼š

1. **ç¡¬åˆ·æ–°æµè§ˆå™¨**
   - Mac: `Cmd + Shift + R`
   - Windows/Linux: `Ctrl + Shift + R`

2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
   - Network æ ‡ç­¾é¡µ
   - å‹¾é€‰ "Disable cache"
   - åˆ·æ–°é¡µé¢

3. **é‡å¯ Vite å¼€å‘æœåŠ¡å™¨**
   ```bash
   # åœæ­¢å½“å‰æœåŠ¡å™¨ (Ctrl+C)
   # é‡æ–°å¯åŠ¨
   cd frontend && npm run dev
   ```

4. **æ¸…é™¤ Vite ç¼“å­˜**
   ```bash
   cd frontend
   rm -rf node_modules/.vite
   npm run dev
   ```

## åç«¯APIé—®é¢˜

å½“å‰é”™è¯¯æ˜¾ç¤ºåç«¯APIè¿”å›404ï¼š
- **é”™è¯¯**: `Cannot GET /api/v1/ai-roles`
- **åŸå› **: åç«¯è·¯ç”±æœªæ­£ç¡®æ³¨å†Œæˆ–åç«¯æœåŠ¡å™¨æœªè¿è¡Œ
- **è§£å†³æ–¹æ¡ˆ**: 
  1. æ£€æŸ¥åç«¯æœåŠ¡å™¨æ˜¯å¦åœ¨3003ç«¯å£è¿è¡Œ
  2. æ£€æŸ¥åç«¯è·¯ç”±é…ç½® (`backend/src/routes/index.ts`)
  3. æŸ¥çœ‹åç«¯æœåŠ¡å™¨æ—¥å¿—

## ä¿®å¤éªŒè¯æ¸…å•

- [x] aiRoleService.ts - getAIRoles() é”™è¯¯æ—¥å¿—å·²æ ¼å¼åŒ–
- [x] migrationService.ts - checkMigrationStatus() é”™è¯¯æ—¥å¿—å·²æ ¼å¼åŒ–  
- [x] AIRoleManagementPage.tsx - æ‰€æœ‰é”™è¯¯æ—¥å¿—å·²æ ¼å¼åŒ–
- [x] MultiChatContainer.tsx - loadRoles() é”™è¯¯æ—¥å¿—å·²æ ¼å¼åŒ–
- [x] æ·»åŠ äº†æ ‡è¯†ç¬¦ï¼ˆemoji + æœåŠ¡åï¼‰ä¾¿äºè¯†åˆ«
- [ ] éœ€è¦ç¡¬åˆ·æ–°æµè§ˆå™¨æŸ¥çœ‹æ–°æ ¼å¼ï¼ˆç”¨æˆ·æ“ä½œï¼‰
- [ ] éœ€è¦æ£€æŸ¥åç«¯æœåŠ¡å™¨çŠ¶æ€ï¼ˆç”¨æˆ·æ“ä½œï¼‰

## ä¸‹ä¸€æ­¥

1. **ç”¨æˆ·æ“ä½œ**: ç¡¬åˆ·æ–°æµè§ˆå™¨ (Cmd/Ctrl + Shift + R)
2. **ç”¨æˆ·æ“ä½œ**: æ£€æŸ¥åç«¯æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
3. **éªŒè¯**: æŸ¥çœ‹æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºæ ¼å¼åŒ–çš„é”™è¯¯å¯¹è±¡
4. **è°ƒè¯•**: æ ¹æ®æ–°çš„é”™è¯¯ä¿¡æ¯å®šä½åç«¯é—®é¢˜

