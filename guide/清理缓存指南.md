# 清理浏览器缓存指南

## 问题
前端正在尝试连接旧的URL `http://47.113.225.93:9999/v1`，这是因为浏览器缓存了旧的配置。

## 解决步骤

### 方法1：清除localStorage（推荐）

1. 打开开发者工具（F12）
2. 点击 **Console** 标签
3. 输入以下命令并按回车：

```javascript
localStorage.clear()
```

4. 然后刷新页面（Cmd+R 或 F5）

### 方法2：完全清理浏览器数据

#### Chrome/Edge
1. 按 `Cmd + Shift + Delete` (Mac) 或 `Ctrl + Shift + Delete` (Windows)
2. 选择"清除所有时间的数据"
3. 勾选：
   - ✅ Cookie和其他网站数据
   - ✅ 缓存的图片和文件
4. 点击"清除数据"

#### Firefox
1. 按 `Cmd + Shift + Delete` (Mac) 或 `Ctrl + Shift + Delete` (Windows)
2. 选择"所有内容"
3. 点击"立即清除"

### 方法3：隐身模式测试

1. 打开隐身/无痕模式
   - Chrome: `Cmd + Shift + N` (Mac) / `Ctrl + Shift + N` (Windows)
   - Firefox: `Cmd + Shift + P` (Mac) / `Ctrl + Shift + P` (Windows)
2. 访问 http://localhost:3001
3. 测试是否正常工作

### 方法4：检查localStorage内容

在开发者工具的Console中输入：

```javascript
console.log('Dify配置:', localStorage.getItem('difyConfigs'))
console.log('工作流配置:', localStorage.getItem('workflowConfigs'))
```

如果显示的URL是 `http://47.113.225.93:9999` 或任何包含 `9999` 端口的URL，说明是旧配置。

### 方法5：手动清理特定配置

在Console中输入：

```javascript
// 删除旧的Dify配置
localStorage.removeItem('difyConfigs')
// 删除旧的工作流配置
localStorage.removeItem('workflowConfigs')
// 刷新页面
location.reload()
```

## 验证修复

清理后，在Console中检查：

```javascript
const configs = JSON.parse(localStorage.getItem('difyConfigs') || '[]')
console.log('配置URL:', configs.map(c => c.apiUrl))
```

应该看到所有URL都是 `http://47.113.225.93:8088/api/dify/chat-messages`，而不是 `9999` 端口。

## 如果仍然不行

如果清理缓存后问题依然存在，请提供：
1. localStorage的内容（截图）
2. 网络请求的URL（Network标签中查看）
3. 控制台的错误信息

